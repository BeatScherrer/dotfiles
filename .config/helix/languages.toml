#--- Rust ---
[[language]]
name = "rust"
auto-format = true
language-servers = ["rust-analyzer"]

[language-server.rust-analyzer.config.check]
command = "clippy"

#--- C++ ---
[[language]]
name = "cpp"
formatter = { command = "/home/beat/.local/bin/clang-format", args = ["-style=file"]}
language-servers = ["mt-clangd"]

[language-server.mt-clangd]
command = "/usr/bin/schroot"
args = ["-c", "chroot:ub22", "--", "/usr/bin/clangd-16", "--path-mappings=/usr=/srv/chroot/ub22/usr,/opt=/srv/chroot/ub22/opt", "--clang-tidy"]

[language.debugger]
name = "lldb-vscode"
transport = "stdio"
command = "lldb-vscode"

[[language.debugger.templates]]
name = "binary"
request = "launch"
completion = [ { name = "binary", completion = "filename" } ]
args = { console = "internalConsole", program = "{0}" }

[[language.debugger.templates]]
name = "attach"
request = "attach"
completion = [ "pid" ]
args = { console = "internalConsole", pid = "{0}" }

[[language.debugger.templates]]
name = "gdbserver attach"
request = "attach"
completion = [ { name = "lldb connect url", default = "connect://localhost:1234" }, { name = "file", completion = "filename" }, "pid" ]
args = { console = "internalConsole", attachCommands = [ "platform select remote-gdb-server", "platform connect {0}", "file {1}", "attach {2}" ] }

#--- C ---
[[language]]
name = "c"
file-types = ["c", "h", "idl"]

#--- JSX ---
[[language]]
name = "jsx"
file-types = ["jsx", "tsx", "ts"]
# language-server = { command = "typescript-language-server", args=["--stdio"]}
